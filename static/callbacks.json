{
    "openapi": "3.0.0",
    "info": {
        "title": "Callback List",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": " https://",
            "description": "For testing purposes"
        }
    ],
    "paths": {
        "/{callback01Url}/?id={id}&error={error}&status={status}&type={type}&initialOrderID={initialOrderID}&amount={amount}": {
            "post": {
                "summary": "#01 - Topup",
                "description": "Callback received in case of status change in a topup payment",
                "parameters": [
                    {
                        "name": "callback01Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible by the source server",
                        "schema": {
                            "type": "string",
                            "example": "enk0r3xvfg4ms.x.pipedream.net"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "description": "the transaction id",
                        "schema": {
                            "type": "string",
                            "example": "TOPUP123"
                        }
                    },
                    {
                        "name": "error",
                        "in": "path",
                        "required": true,
                        "description": "the error codes for failed payments :  \n0 = 0XXX operation succeeded or still processing  \n10 = 1XXX operation rejected because of bad request configuration  \n11 = 2XXX operation rejected because of bad reference usage  \n12 = 3XXX operation rejected because of bad account configuration  \n13 = 4XXX operation rejected because of the bank or the supplier  \n14 = 5XXX operation rejected because of a system error  \n15 = 6XXX operation rejected because of anti-fraud engine",
                        "schema": {
                            "type": "string",
                            "example": "0"
                        }
                    },
                    {
                        "name": "status",
                        "in": "path",
                        "required": true,
                        "description": "the transaction status :  \n-1 = unknow  \n0 = waiting  \n1 = completed  \n2 = refunded  \n3 = refused  \n4 = waiting for validation  \n5 = cancelled  \n6 = waiting to be sent",
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "required": true,
                        "description": "the callback type",
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    },
                    {
                        "name": "initialOrderID",
                        "in": "path",
                        "required": true,
                        "description": "initial transaction orderid",
                        "schema": {
                            "type": "string",
                            "example": "ABCD1234"
                        }
                    },
                    {
                        "name": "amount",
                        "in": "path",
                        "required": true,
                        "description": "the transaction amount",
                        "schema": {
                            "type": "number",
                            "format": "float",
                            "example": "1234.56"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "https://yourCallbackAdress/?id=TOPUP123&error=0&status=1&type=1&initialOrderID=ABCD1234&amount=12": {
                            "post": {
                                "requestBody": {
                                    "description": "Example",
                                    "content": {
                                        "application/x-www-form-urlencoded": {
                                            "schema": {
                                                "type": "string",
                                                "example": "https://YourCallbackUrl/?id=TOPUP123&error=0&status=1&type=1&initialOrderID=123456&amount=150.23"
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback04Url}": {
            "post": {
                "summary": "#04 - KYC demand",
                "description": "Callback received in case of status change in the KYC demand",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "callback type",
                                        "example": "4"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "Status of the KYC demand :  \n- initialized  \n- incomplete  \n- complete  \n- pending",
                                        "example": "incomplete"
                                    },
                                    "appUserId": {
                                        "type": "string",
                                        "description": "User unique identifier",
                                        "example": "rx193bo32"
                                    },
                                    "diligences": {
                                        "type": "object",
                                        "properties": {
                                            "diligenceType": {
                                                "type": "string",
                                                "description": "Type of diligence :  \n- ID_CARD  \n- PASSPORT  \n- VETERAN_CARD  \n- MILITARY_ID  \n- RES_CARD  \n- EMPL_CONTRACT  \n- PAYSLIP  \n- CESU  \n- PENSION_RET  \n- STUDENT_ID  \n- TAX_NOTICE  \n- INCOME_TAX  \n- ASDIR  \n- RSA  \n- RMI  \n- DIS_CERTIF  \n- PROOF_FAM_ALLOW  \n- ACC_STAT  \n- SCTIN  \n- ACC_AGG  \n- SELFIE",
                                                "example": "PASSPORT"
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Status of diligence:  \n- Validated  \n- Refused  \n- To_Review_Manually",
                                                "example": "Validated"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback04Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "description": "callback type",
                                                        "example": "4"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "Status of the KYC demand",
                                                        "example": "incomplete"
                                                    },
                                                    "appUserId": {
                                                        "type": "string",
                                                        "description": "User unique identifier",
                                                        "example": "rx193bo32"
                                                    },
                                                    "diligences": {
                                                        "type": "object",
                                                        "properties": {
                                                            "diligenceType": {
                                                                "type": "string",
                                                                "description": "Type of diligence",
                                                                "example": "PASSPORT"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "description": "status of diligence",
                                                                "example": "Validated"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback16Url}": {
            "post": {
                "summary": "#16 - SCT In",
                "description": "Callback received in case of status change in an incoming SCT payment",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the transaction id",
                                        "example": "10743"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the transaction orderid",
                                        "example": "o0pbb6ryc"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the transaction status :  \n1 = succeeded  \n2 = refund",
                                        "example": "1"
                                    },
                                    "userid": {
                                        "type": "string",
                                        "description": "the user unique identifier",
                                        "example": "dnboz3uht"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "16"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback16Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the transaction id",
                                                        "example": "10743"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the transaction orderid",
                                                        "example": "o0pbb6ryc"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the transaction status :  \n1 = succeeded  \n2 = refund",
                                                        "example": "1"
                                                    },
                                                    "userid": {
                                                        "type": "string",
                                                        "description": "the user unique identifier",
                                                        "example": "dnboz3uht"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "16"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback17Url}": {
            "post": {
                "summary": "#17 - SCT Out",
                "description": "Callback received in case of status change in an outgoing SCT payment",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the transaction id",
                                        "example": "10743"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the transaction orderid",
                                        "example": "o0pbb6ryc"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                        "example": "1"
                                    },
                                    "userid": {
                                        "type": "string",
                                        "description": "the user unique identifier",
                                        "example": "dnboz3uht"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "17"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback17Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the transaction id",
                                                        "example": "10743"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the transaction orderid",
                                                        "example": "o0pbb6ryc"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                                        "example": "1"
                                                    },
                                                    "userid": {
                                                        "type": "string",
                                                        "description": "the user unique identifier",
                                                        "example": "dnboz3uht"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "17"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback18Url}": {
            "post": {
                "summary": "#18 - SDD Out",
                "description": "Callback received in case of status change in an outgoing SDD payment (money is captured to the Xpollens account)",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the transaction id",
                                        "example": "10743"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the transaction orderid",
                                        "example": "o0pbb6ryc"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                        "example": "1"
                                    },
                                    "userid": {
                                        "type": "string",
                                        "description": "the user unique identifier",
                                        "example": "dnboz3uht"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "18"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback18Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the transaction id",
                                                        "example": "10743"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the transaction orderid",
                                                        "example": "o0pbb6ryc"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                                        "example": "1"
                                                    },
                                                    "userid": {
                                                        "type": "string",
                                                        "description": "the user unique identifier",
                                                        "example": "dnboz3uht"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "18"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback19Url}": {
            "post": {
                "summary": "#19 - SDD In",
                "description": "Callback received in case of status change in an incoming SDD payment (money is withdrawn from Xpollens account)",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the transaction id",
                                        "example": "10735"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the transaction orderid",
                                        "example": "S-MONEY-20210223161700000112"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                        "example": "1"
                                    },
                                    "userid": {
                                        "type": "string",
                                        "description": "the user unique identifier",
                                        "example": "K-oZktdWv"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "19"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback19Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the transaction id",
                                                        "example": "10743"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the transaction orderid",
                                                        "example": "o0pbb6ryc"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the transaction status :  \n0 = pending  \n1 = succedeed  \n2 = refunded  \n3 = failed",
                                                        "example": "1"
                                                    },
                                                    "userid": {
                                                        "type": "string",
                                                        "description": "the user unique identifier",
                                                        "example": "dnboz3uht"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "19"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback20Url}": {
            "post": {
                "summary": "#20 - Card operation status change",
                "description": "Callback received in case of status change in a card operation",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the Xpollens internal card id",
                                        "example": "464890"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the operation orderid",
                                        "example": "8Y8Loh9L8E6FJsA7J1Tyrg"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "20"
                                    },
                                    "appCardId": {
                                        "type": "string",
                                        "description": "the reference or alias of the card",
                                        "example": "null"
                                    },
                                    "transactionAmount": {
                                        "type": "string",
                                        "description": "the amount in local currency in decimal",
                                        "example": "11.9"
                                    },
                                    "currencyCodeTransaction": {
                                        "type": "string",
                                        "description": "the transaction currency code (ISO 4217 numeric code)",
                                        "example": "978"
                                    },
                                    "cardHolderBillingAmount": {
                                        "type": "string",
                                        "description": "the amount in euro (used for foreign currency transactions) in decimal format",
                                        "example": ""
                                    },
                                    "cardHolderBillingConversionRate": {
                                        "type": "string",
                                        "description": "the exchange rate (used for foreign currency transactions) in decimal value in string data type",
                                        "example": ""
                                    },
                                    "availableBalance": {
                                        "type": "string",
                                        "description": "the balance after authorization in decimal format",
                                        "example": "0.96"
                                    },
                                    "actionCode": {
                                        "type": "string",
                                        "description": "the response code (authorization and reasons for refusal)",
                                        "example": "0"
                                    },
                                    "merchantType": {
                                        "type": "string",
                                        "description": "the merchant category code",
                                        "example": "5814"
                                    },
                                    "cardAcceptorIdentificationCodeName": {
                                        "type": "string",
                                        "description": "the merchant information (name, adress,etc…)",
                                        "example": "MC DONALD S\\\\GRENOBLE"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the Operation status :  \n0 = waiting  \n1 = completed  \n2 = refunded  \n3 = failed  \n5 = cancelled  \n7 = expired",
                                        "example": "0"
                                    },
                                    "ert": {
                                        "type": "string",
                                        "description": "the regulatory and technical environment (ATM, online payment, etc…)",
                                        "example": "10"
                                    },
                                    "cardDataInputMode": {
                                        "type": "string",
                                        "description": "contact or contactless",
                                        "example": "9"
                                    },
                                    "tokenRequestorID": {
                                        "type": "string",
                                        "description": "the id of the token requestor (such as ApplePay, GooglePay, etc…)",
                                        "example": ""
                                    },
                                    "terminalCountryCode": {
                                        "type": "string",
                                        "description": "the Country where the payment took place",
                                        "example": "250"
                                    },
                                    "userid": {
                                        "type": "string",
                                        "description": "the user unique identifier",
                                        "example": "dyYiUtSrj"
                                    },
                                    "executedDate": {
                                        "type": "string",
                                        "description": "the executed date of the operation. Warning: unusual date format: (dd/MM/yyyy hh:mm:ss)",
                                        "example": "01/12/2022 14:44:09"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback20Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the Xpollens internal card id",
                                                        "example": "464890"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the operation orderid",
                                                        "example": "8Y8Loh9L8E6FJsA7J1Tyrg"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "20"
                                                    },
                                                    "appCardId": {
                                                        "type": "string",
                                                        "description": "the reference or alias of the card",
                                                        "example": "null"
                                                    },
                                                    "transactionAmount": {
                                                        "type": "string",
                                                        "description": "the amount in local currency in decimal",
                                                        "example": "11.9"
                                                    },
                                                    "currencyCodeTransaction": {
                                                        "type": "string",
                                                        "description": "the transaction currency code (ISO 4217 numeric code)",
                                                        "example": "978"
                                                    },
                                                    "cardHolderBillingAmount": {
                                                        "type": "string",
                                                        "description": "the amount in euro (used for foreign currency transactions) in decimal format",
                                                        "example": ""
                                                    },
                                                    "cardHolderBillingConversionRate": {
                                                        "type": "string",
                                                        "description": "the exchange rate (used for foreign currency transactions) in decimal value in string data type",
                                                        "example": ""
                                                    },
                                                    "availableBalance": {
                                                        "type": "string",
                                                        "description": "the balance after authorization in decimal format",
                                                        "example": "0.96"
                                                    },
                                                    "actionCode": {
                                                        "type": "string",
                                                        "description": "the response code (authorization and reasons for refusal)",
                                                        "example": "0"
                                                    },
                                                    "merchantType": {
                                                        "type": "string",
                                                        "description": "the merchant category code",
                                                        "example": "5814"
                                                    },
                                                    "cardAcceptorIdentificationCodeName": {
                                                        "type": "string",
                                                        "description": "the merchant information (name, adress,etc…)",
                                                        "example": "MC DONALD S\\\\GRENOBLE"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the Operation status :  \n0 = waiting  \n1 = completed  \n2 = refunded  \n3 = failed  \n5 = cancelled  \n7 = expired",
                                                        "example": "0"
                                                    },
                                                    "ert": {
                                                        "type": "string",
                                                        "description": "the regulatory and technical environment (ATM, online payment, etc…)",
                                                        "example": "10"
                                                    },
                                                    "cardDataInputMode": {
                                                        "type": "string",
                                                        "description": "contact or contactless",
                                                        "example": "9"
                                                    },
                                                    "tokenRequestorID": {
                                                        "type": "string",
                                                        "description": "the id of the token requestor (such as ApplePay, GooglePay, etc…)",
                                                        "example": ""
                                                    },
                                                    "terminalCountryCode": {
                                                        "type": "string",
                                                        "description": "the Country where the payment took place",
                                                        "example": "250"
                                                    },
                                                    "userid": {
                                                        "type": "string",
                                                        "description": "the user unique identifier",
                                                        "example": "dyYiUtSrj"
                                                    },
                                                    "executedDate": {
                                                        "type": "string",
                                                        "description": "the executed date of the operation. Warning: unusual date format: (dd/MM/yyyy hh:mm:ss)",
                                                        "example": "01/12/2022 14:44:09"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback21Url}": {
            "post": {
                "summary": "#21 - Card creation (or card status change)",
                "description": "Callback received in case of status change in a card operation",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the Xpollens internal card id",
                                        "example": "464890"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the reference or alias of the card",
                                        "example": "card-lHXYoKrpn"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "21"
                                    },
                                    "cardType": {
                                        "type": "string",
                                        "description": "the type of the ordered card :  \n1 = classic virtual  \n2 = classic physical  \n3 = premium virtual  \n4 = premium physical",
                                        "example": "4"
                                    },
                                    "action": {
                                        "type": "string",
                                        "description": "the action done on the card :  \n0 = creation  \n1 = cancellation  \n2 = refabrication  \n3 = renewal  \n4 = update",
                                        "example": "0"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "the Status of the card :  \n0 = ordered  \n1 = sent  \n2 = activated  \n3 = expired  \n4 = opposed  \n5 = failed  \n6 = deactivated  \n7 = cancelled",
                                        "example": "1"
                                    },        
                                    "opposedReason": {
                                        "type": "string",
                                        "description": "the reason for card opposition :  \nThis field is different than '0' only when the card is opposed.  \n07 = special conditions  \n34 = suspected fraud  \n41 = lost  \n43 = stolen)",
                                        "example": "0"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback21Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the Xpollens internal card id",
                                                        "example": "464890"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the reference or alias of the card",
                                                        "example": "card-lHXYoKrpn"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "21"
                                                    },
                                                    "cardType": {
                                                        "type": "string",
                                                        "description": "the type of the ordered card :  \n1 = classic virtual  \n2 = classic physical  \n3 = premium virtual  \n4 = premium physical",
                                                        "example": "4"
                                                    },
                                                    "action": {
                                                        "type": "string",
                                                        "description": "the action done on the card :  \n0 = creation  \n1 = cancellation  \n2 = refabrication  \n3 = renewal  \n4 = update",
                                                        "example": "0"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "the Status of the card :  \n0 = ordered  \n1 = sent  \n2 = activated  \n3 = expired  \n4 = opposed  \n5 = failed  \n6 = deactivated  \n7 = cancelled",
                                                        "example": "1"
                                                    },        
                                                    "opposedReason": {
                                                        "type": "string",
                                                        "description": "the reason for card opposition :  \nThis field is different than '0' only when the card is opposed.  \n07 = special conditions  \n34 = suspected fraud  \n41 = lost  \n43 = stolen)",
                                                        "example": "0"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback24Url}": {
            "post": {
                "summary": "#24 - Card operation clearing processing",
                "description": "Callback received in case of status change in a clearing batch file",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the Xpollens report id",
                                        "example": "1691"
                                    },
                                    "reference": {
                                        "type": "string",
                                        "description": "the batch file clearing report reference",
                                        "example": "1691"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "24"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback24Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the Xpollens internal card id",
                                                        "example": "1691"
                                                    },
                                                    "reference": {
                                                        "type": "string",
                                                        "description": "the batch file clearing report reference",
                                                        "example": "1691"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "24"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback29Url}": {
            "post": {
                "summary": "#29 - P2P transfer",
                "description": "Callback received in case of status change in Peer to Peer (P2P) transfer",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the Xpollens transaction id",
                                        "example": "mmd8l3e3l"
                                    },
                                    "receiver": {
                                        "type": "string",
                                        "description": "the benefeciary account appUserId",
                                        "example": "2voh0r42a"
                                    },
                                    "sender": {
                                        "type": "string",
                                        "description": "the sender account appUserId",
                                        "example": "999OB-COM"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "the callback type",
                                        "example": "29"
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback29Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "description": "the Xpollens transaction id",
                                                        "example": "mmd8l3e3l"
                                                    },
                                                    "receiver": {
                                                        "type": "string",
                                                        "description": "the benefeciary account appUserId",
                                                        "example": "2voh0r42a"
                                                    },
                                                    "sender": {
                                                        "type": "string",
                                                        "description": "the sender account appUserId",
                                                        "example": "999OB-COM"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "the callback type",
                                                        "example": "29"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback31Url}": {
            "post": {
                "summary": "#31 - KYC complementary diligence",
                "description": "Callback received in case of status change in the KYC complementary due diligence (be it SCT or Instant Payment)",
                "requestBody": {
                    "description": "JSON Body",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "callback type",
                                        "example": "31"
                                    },
                                    "status": {
                                        "type": "string",
                                        "description": "Status of the KYC demand :  \n- validated  \n- refused  \n- to_review_manually",
                                        "example": "to_review_manually"
                                    },
                                    "appUserId": {
                                        "type": "string",
                                        "description": "User unique identifier",
                                        "example": "NemaabcJs"
                                    },
                                    "diligenceType": {
                                        "type": "string",
                                        "description": "the type of diligence :  \n- SCT_In  \n- InstantPayment_In",
                                        "example": "SCT_In"
                                    },
                                    "reason": {
                                        "type": "string",
                                        "description": "the reason of acceptance or rejection of the diligence",
                                        "example": "The beneficiary's name is different from the transmitter's name"
                                    },
                                    "amount": {
                                        "type": "integer",
                                        "description": "the amount of the money in transfer  (in cents of euro)",
                                        "example": "145"
                                    },
                                    "transferDate": {
                                        "type": "string",
                                        "format": "date_time",
                                        "description": "the date of the money in transfer",
                                        "example": "2021-01-30T08:30:00Z"
                                    },
                                    "transmitterFullName": {
                                        "type": "string",
                                        "description": "the firstname and lastname (and birthname if existing) of the transmitter",
                                        "example": "Epp Sandra"
                                    },
                                    "operationType": {
                                        "type": "string",
                                        "description": "the type of operation :  \n- SCT_In  \n- InstantPayment_In",
                                        "example": "SCT_In"
                                    },
                                    "orderId": {
                                        "type": "string",
                                        "description": "the transaction orderId",
                                        "example": "rx193bo32"
                                    },
                                    "score": {
                                        "type": "object",
                                        "properties": {
                                            "name": {
                                                "type": "integer",
                                                "description": "the result of the identity matching algorithm (percentage)",
                                                "example": "100"
                                            },
                                            "firstName": {
                                                "type": "integer",
                                                "description": "the result of the identity matching algorithm (percentage)",
                                                "example": "100"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "callback31Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "description": "callback type",
                                                        "example": "31"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "Status of the KYC demand :  \n- validated  \n- refused  \n- to_review_manually",
                                                        "example": "to_review_manually"
                                                    },
                                                    "appUserId": {
                                                        "type": "string",
                                                        "description": "User unique identifier",
                                                        "example": "NemaabcJs"
                                                    },
                                                    "diligenceType": {
                                                        "type": "string",
                                                        "description": "the type of diligence :  \n- SCT_In  \n- InstantPayment_In",
                                                        "example": "SCT_In"
                                                    },
                                                    "reason": {
                                                        "type": "string",
                                                        "description": "the reason of acceptance or rejection of the diligence",
                                                        "example": "The beneficiary's name is different from the transmitter's name"
                                                    },
                                                    "amount": {
                                                        "type": "integer",
                                                        "description": "the amount of the money in transfer  (in cents of euro)",
                                                        "example": "145"
                                                    },
                                                    "transferDate": {
                                                        "type": "string",
                                                        "format": "date_time",
                                                        "description": "the date of the money in transfer",
                                                        "example": "2021-01-30T08:30:00Z"
                                                    },
                                                    "transmitterFullName": {
                                                        "type": "string",
                                                        "description": "the firstname and lastname (and birthname if existing) of the transmitter",
                                                        "example": "Epp Sandra"
                                                    },
                                                    "operationType": {
                                                        "type": "string",
                                                        "description": "the type of operation :  \n- SCT_In  \n- InstantPayment_In",
                                                        "example": "SCT_In"
                                                    },
                                                    "orderId": {
                                                        "type": "string",
                                                        "description": "the transaction orderId",
                                                        "example": "rx193bo32"
                                                    },
                                                    "score": {
                                                        "type": "object",
                                                        "properties": {
                                                            "name": {
                                                                "type": "integer",
                                                                "description": "the result of the identity matching algorithm (percentage)",
                                                                "example": "100"
                                                            },
                                                            "firstName": {
                                                                "type": "integer",
                                                                "description": "the result of the identity matching algorithm (percentage)",
                                                                "example": "100"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback05Url}/?type={type}&id={id}&userid={userid}": {
            "post": {
                "summary": "#05 - Registration of a bank card for TopUp",
                "description": "Callback received in case of status change in a bank card registration used in a topup",
                "parameters": [
                    {
                        "name": "callback05Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible by the source server",
                        "schema": {
                            "type": "string",
                            "example": "enk0r3xvfg4ms.x.pipedream.net"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "required": true,
                        "description": "callback type",
                        "schema": {
                            "type": "string",
                            "example": "5"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "description": "the saved card Appcardid",
                        "schema": {
                            "type": "string",
                            "example": "yvzinayg1"
                        }
                    },
                    {
                        "name": "userid",
                        "in": "path",
                        "required": true,
                        "description": "the appuserid related to the appcardid",
                        "schema": {
                            "type": "string",
                            "example": "SBTEIX-29"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "https://YourCallbackAdress?type=5&id=yvzinayg1&userid=SBTEIX-29": {
                            "post": {
                                "requestBody": {
                                    "description": "Example",
                                    "content": {
                                        "application/x-www-form-urlencoded": {
                                            "schema": {
                                                "type": "string",
                                                "example": "https://YourCallbackUrl?type=5&id=yvzinayg1&userid=SBTEIX-29"
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback37Url}/?id={id}&error={error}&status={status}&type={type}&initialOrderID={initialOrderID}&amount={amount}": {
            "post": {
                "summary": "#37 - Refund TopUp",
                "description": "Callback received in case of a status change for in the refund topup status",
                "parameters": [
                    {
                        "name": "callback37Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible by the source server",
                        "schema": {
                            "type": "string",
                            "example": "enk0r3xvfg4ms.x.pipedream.net"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "description": "the transaction id",
                        "schema": {
                            "type": "string",
                            "example": "refund-TOPUP123"
                        }
                    },
                    {
                        "name": "error",
                        "in": "path",
                        "required": true,
                        "description": "the error codes for failed payments :  \n0 = 0XXX operation succeeded or still processing  \n10 = 1XXX operation rejected because of bad request configuration  \n11 = 2XXX operation rejected because of bad reference usage  \n12 = 3XXX operation rejected because of bad account configuration  \n13 = 4XXX operation rejected because of the bank or the supplier  \n14 = 5XXX operation rejected because of a system error  \n15 = 6XXX operation rejected because of anti-fraud engine",
                        "schema": {
                            "type": "string",
                            "example": "0"
                        }
                    },
                    {
                        "name": "status",
                        "in": "path",
                        "required": true,
                        "description": "the transaction status :  \n-1 = unknow  \n0 = waiting  \n1 = completed  \n2 = refunded  \n3 = refused  \n4 = waiting for validation  \n5 = cancelled  \n6 = waiting to be sent",
                        "schema": {
                            "type": "string",
                            "example": "1"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "required": true,
                        "description": "the callback type",
                        "schema": {
                            "type": "string",
                            "example": "37"
                        }
                    },
                    {
                        "name": "initialOrderID",
                        "in": "path",
                        "required": true,
                        "description": "initial transaction orderid",
                        "schema": {
                            "type": "string",
                            "example": "ABCD1234"
                        }
                    },
                    {
                        "name": "amount",
                        "in": "path",
                        "required": true,
                        "description": "the transaction amount",
                        "schema": {
                            "type": "number",
                            "format": "float",
                            "example": "1234.56"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "http://YourCallbackUrl/?id=refund-TOPUP123-1&error=0&status=0&type=37&initialOrderID=TOPUP123&amount=600": {
                            "post": {
                                "requestBody": {
                                    "description": "Example",
                                    "content": {
                                        "application/x-www-form-urlencoded": {
                                            "schema": {
                                                "type": "string",
                                                "example": "http://YourCallbackUrl/?id=refund-TOPUP123-1&error=0&status=0&type=37&initialOrderID=TOPUP123&amount=600"
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback36Url}": {
            "post": {
                "summary": "#36 - Strong authentication",
                "description": "Callback received for strong authentication (sensitives actions)",
                "parameters": [
                    {
                        "name": "callback36Url",
                        "in": "query",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible\nby the source server\n",
                        "schema": {
                            "type": "string",
                            "format": "uri",
                            "example": "tonys-server.com"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "{$request.query.callbackUrl}/data": {
                            "post": {
                                "requestBody": {
                                    "description": "callback example",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "description": "callback type",
                                                        "example": "4"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "description": "Status of the KYC demand :  \n- initialized  \n- incomplete  \n- complete  \n- pending",
                                                        "example": "incomplete"
                                                    },
                                                    "appUserId": {
                                                        "type": "string",
                                                        "description": "User unique identifier",
                                                        "example": "rx193bo32"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/{callback15Url}/?type={type}&userstatus={userstatus}&userid={userid}": {
            "post": {
                "summary": "#15 - FreezeUser",
                "description": "Callback received in case of a freeze status change for a user",
                "parameters": [
                    {
                        "name": "callback15Url",
                        "in": "path",
                        "required": true,
                        "description": "the location where data will be sent.  Must be network accessible by the source server",
                        "schema": {
                            "type": "string",
                            "example": "enk0r3xvfg4ms.x.pipedream.net"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "required": true,
                        "description": "the callback type",
                        "schema": {
                            "type": "string",
                            "example": "15"
                        }
                    },
                    {
                        "name": "userstatus",
                        "in": "path",
                        "required": true,
                        "description": "the user new status :  \n1 = OK (not frozen)  \n2 = frozen",
                        "schema": {
                            "type": "string",
                            "example": "2"
                        }
                    },
                    {
                        "name": "userid",
                        "in": "path",
                        "required": true,
                        "description": "the appuserid",
                        "schema": {
                            "type": "string",
                            "example": "x03ksnze9"
                        }
                    }
                ],
                "callbacks": {
                    "onData": {
                        "https://YourCallbackUrl?type=15&userstatus=2&userid=x03ksnze9": {
                            "post": {
                                "requestBody": {
                                    "description": "Example",
                                    "content": {
                                        "application/x-www-form-urlencoded": {
                                            "schema": {
                                                "type": "string",
                                                "example": "https://YourCallbackUrl?type=15&userstatus=2&userid=x03ksnze9"
                                            }
                                        }
                                    }
                                },
                                "responses": {
                                    "202": {
                                        "description": "Your server implementation should return this HTTP status code\nif the data was received successfully\n"
                                    },
                                    "204": {
                                        "description": "Your server should return this HTTP status code if no longer interested\nin further updates\n"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "Bearer token authorization": {
                "type": "http",
                "description": "Authentication with bearer token",
                "scheme": "bearer"
            },
            "Sts authentication": {
                "type": "oauth2",
                "x-client-id": "",
                "x-client-secret": "",
                "flows": {
                    "clientCredentials": {
                        "tokenUrl": "https://ic-connect.s-money.net/connect/token",
                        "scopes": {
                            "partner": "",
                            "internal_settings": "",
                            "thirdparty_kyc": ""
                        }
                    }
                }
            }
        }
    },
    "security": [
        {
            "Bearer token authorization": []
        },
        {
            "Sts authentication": []
        }
    ]
}